"use strict";let a=require("utils"),b=require("api"),c=require("chart.js"),d={elements:{form:document.getElementById("ipw-form"),canvas:document.getElementById("ipw-canvas"),switcher:document.getElementById("ipw-switcher"),checkboxes:document.body.querySelectorAll("#ipw-switcher input[type='checkbox']")},init(){"0"===a.getQuery("controls")&&this.elements.form.classList.add("hidden"),this.syncInputs(),this.addEventHandlers()},addEventHandlers(){"0"!==a.getQuery("controls")&&this.elements.switcher.addEventListener("change",this.checkboxChangeHandler,!1)},checkboxChangeHandler({target:f}){c.toggleSeries(+f.value),b.emit("updateVisible")},syncInputs(){if("0"!==a.getQuery("controls")){let f=c.visibleSeries;[...this.elements.checkboxes].forEach((g,h)=>{g.checked=f.includes(h+1)})}}};b.init({widget:"IPW",messageData:{updateVisible(){return c.visibleSeries}},methods:{showSeries(f){if(!Array.isArray(f))throw new TypeError("showSeries: \"Unexpected argument type. Should be an array\"");c.visibleSeries=f,d.syncInputs(),b.emit("updateVisible")},toggleSeries(f){if(!Number.isInteger(f))throw new TypeError("toggleSeries: \"Unexpected argument type. Should be an integer number\"");c.toggleSeries(f),d.syncInputs(),b.emit("updateVisible")}}});let e=(a.getQuery("n")||"1,2,3,4").split(",").map(Number);c.create(d.elements.canvas,{visibleSeries:e}),d.init(),document.body.classList.remove("loading"),module.exports={};